<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wheely - Reg√≠strate</title>
    <link rel="stylesheet" href="css/wheely_register.css">
</head>
<body>
    <div class="black-stripe"></div>
    
    <div class="logo">
        <!-- Logo png de Wheely -->
        <img src="img/logo.png" alt="Logo de Wheely" style="width: 100px; height: auto; display: block; margin: 0 auto;">
        
    </div>

    <div class="container">
        <!-- Secci√≥n de Bienvenida -->
        <div class="welcome-section">
            <h1 class="welcome-title">Bienvenido a <span class="brand-name">Wheely</span></h1>
            <p class="welcome-subtitle">"Planea tu viaje, reporta y colabora"</p>
            <p class="welcome-description">
                Wheely es una plataforma web dise√±ada para mejorar la experiencia del 
                transporte colectivo en Tuxtla Guti√©rrez.<br>
                Permite a los ciudadanos acceder de forma gratuita a informaci√≥n 
                completa sobre rutas, paradas, horarios y tiempos de espera promedio del 
                transporte p√∫blico local.
            </p>
        </div>
         <div class="left-image">
            <img src="img/image-removebg-preview (10).png" alt="Imagen de la Parada" height="90%" width="90%">
        </div>

        <!-- Secci√≥n de Registro -->
        <div class="register-section">
            <div class="register-card">
                <button class="close-btn" onclick="goBack()" aria-label="Cerrar">&times;</button>
                
                <div class="register-header">
                    <h2 class="register-title">Reg√≠strate</h2>
                    <p class="register-login-link">¬øTienes cuenta? <a href="wheely_login.html">Inicia Sesi√≥n</a></p>
                </div>
                
                <form class="register-form" onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label class="form-label">
                            Ingresa tu correo electr√≥nico
                            <span class="required-mark">*</span>
                        </label>
                        <input 
                            type="email" 
                            class="form-input" 
                            placeholder="rodi@gmail.com" 
                            id="emailInput"
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            Nombre de usuario
                            <span class="required-mark">*</span>
                        </label>
                        <input 
                            type="text" 
                            class="form-input" 
                            placeholder="rodrigo231" 
                            id="usernameInput"
                            required
                        >
                    <p id="usernameError" style="color: red; font-size: 14px; margin-top: 4px;"></p>

                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            Ingresa tu contrase√±a
                            <span class="required-mark">*</span>
                        </label>
                        <div class="password-wrapper">
                            <input 
                                type="password" 
                                class="form-input" 
                                placeholder="wEelf23" 
                                id="passwordInput"
                                required
                            >
                            <button type="button" class="password-toggle" onclick="togglePassword('passwordInput', this)">
                                üôà
                            </button>
                        </div>
                        <div class="password-requirements" id="passwordRequirements">
                            <p id="req-length">‚Ä¢ M√≠nimo 8 caracteres</p>
                            <p id="req-uppercase">‚Ä¢ Al menos 1 letra may√∫scula</p>
                            <p id="req-lowercase">‚Ä¢ Al menos 1 letra min√∫scula</p>
                            <p id="req-number">‚Ä¢ Al menos 1 n√∫mero</p>
                            <p id="req-symbol">‚Ä¢ Al menos 1 s√≠mbolo</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            Confirma tu contrase√±a
                            <span class="required-mark">*</span>
                        </label>
                        <div class="password-wrapper">
                            <input 
                                type="password" 
                                class="form-input" 
                                placeholder="Escribe nuevamente tu contrase√±a" 
                                id="confirmPasswordInput"
                                required
                            >
                            <p id="confirmPasswordError" style="color: red; font-size: 14px; margin-top: 4px;"></p>
                            <button type="button" class="password-toggle" onclick="togglePassword('confirmPasswordInput', this)">
                                üôà
                            </button>
                        </div>
                    </div>

                    <button type="submit" class="register-btn">Registrarse</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        function togglePassword(inputId, button) {
        const passwordInput = document.getElementById(inputId);
        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            button.textContent = 'üôâ';
        } else {
            passwordInput.type = 'password';
            button.textContent = 'üôà';
        }
    }

    function validatePassword(password) {
        const requirements = {
            length: password.length >= 8,
            uppercase: /[A-Z]/.test(password),
            lowercase: /[a-z]/.test(password),
            number: /\d/.test(password),
            symbol: /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)
        };

        // Actualizar estilos visuales de requisitos
        document.getElementById('req-length').className = requirements.length ? 'valid' : 'invalid';
        document.getElementById('req-uppercase').className = requirements.uppercase ? 'valid' : 'invalid';
        document.getElementById('req-lowercase').className = requirements.lowercase ? 'valid' : 'invalid';
        document.getElementById('req-number').className = requirements.number ? 'valid' : 'invalid';
        document.getElementById('req-symbol').className = requirements.symbol ? 'valid' : 'invalid';

        return Object.values(requirements).every(req => req);
    }

    function handleRegister(event) {
        event.preventDefault();

        const email = document.getElementById('emailInput').value;
        const username = document.getElementById('usernameInput').value;
        const password = document.getElementById('passwordInput').value;
        const confirmPassword = document.getElementById('confirmPasswordInput').value;

        const usernameError = document.getElementById('usernameError');
        const confirmPasswordError = document.getElementById('confirmPasswordError');

        usernameError.textContent = '';
        confirmPasswordError.textContent = '';

        const usernameRegex = /^[a-zA-Z0-9@_-]+$/;
        if (!usernameRegex.test(username)) {
            usernameError.textContent = 'El nombre de usuario solo puede contener letras, n√∫meros y _ - @';
            return;
        }

        if (!validatePassword(password)) {
            alert('La contrase√±a no cumple con todos los requisitos');
            return;
        }

        if (password !== confirmPassword) {
            confirmPasswordError.textContent = 'Las contrase√±as no coinciden';
            return;
        }

        alert('Registrando usuario...');
        window.location.href = 'inicio_sesion.html';
    }

    function goBack() {
        window.location.href = 'index.html';
    }

    document.addEventListener('DOMContentLoaded', function () {
        const usernameInput = document.getElementById('usernameInput');
        const passwordInput = document.getElementById('passwordInput');
        const confirmPasswordInput = document.getElementById('confirmPasswordInput');
        const usernameError = document.getElementById('usernameError');
        const confirmPasswordError = document.getElementById('confirmPasswordError');

        usernameInput.addEventListener('input', function () {
            const valid = /^[a-zA-Z0-9@_-]*$/.test(this.value);
            if (!valid) {
                usernameError.textContent = 'Solo se permiten letras, n√∫meros y _ - @';
                this.classList.add('invalid');
            } else {
                usernameError.textContent = '';
                this.classList.remove('invalid');
            }
        });

        passwordInput.addEventListener('input', function () {
            validatePassword(this.value);
        });

        confirmPasswordInput.addEventListener('input', function () {
            const password = passwordInput.value;
            if (this.value && this.value !== password) {
                this.classList.add('invalid');
                this.classList.remove('valid');
                confirmPasswordError.textContent = 'Las contrase√±as no coinciden';
            } else if (this.value === password && password) {
                this.classList.add('valid');
                this.classList.remove('invalid');
                confirmPasswordError.textContent = '';
            } else {
                this.classList.remove('valid', 'invalid');
                confirmPasswordError.textContent = '';
            }
        });

        const formGroups = document.querySelectorAll('.form-group');
        formGroups.forEach((group, index) => {
            group.style.opacity = '0';
            group.style.transform = 'translateY(20px)';
            setTimeout(() => {
                group.style.transition = 'all 0.6s ease';
                group.style.opacity = '1';
                group.style.transform = 'translateY(0)';
            }, 300 + (index * 100));
        });
    });
    </script>
</body>
</html>